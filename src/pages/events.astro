---
import { changeLanguage } from 'i18next';

import ArchivedEvents from '../components/ArchivedEvents.astro';
import SeperatorLine from '../components/SeperatorLine.astro';
import UpcomingEvents from '../components/UpcomingEvents.astro';
import Layout from '../layouts/Layout.astro';

changeLanguage('en');

export interface Event {
  id: number;
  title: string;
  date: string;
  thumbnail: string;
  subscribersCount: number;
  presenterAvatar: string;
}
const events: Event[] = [
  {
    id: 1,
    title: 'How to become a pragmatic programmer',
    date: '2024/02/27',
    thumbnail: '/public/cardBG.png',
    subscribersCount: 110,
    presenterAvatar: '/public/avatar.png',
  },
  {
    id: 2,
    title: 'Nix and nixos',
    date: '2022/02/27',
    thumbnail: '/public/cardBG.png',
    subscribersCount: 110,
    presenterAvatar: '/public/avatar.png',
  },
  {
    id: 3,
    title: 'Webpack',
    date: '2022/02/27',
    thumbnail: '/public/cardBG.png',
    subscribersCount: 110,
    presenterAvatar: '/public/avatar.png',
  },
  {
    id: 4,
    title: '10X programming',
    date: '2022/02/27',
    thumbnail: '/public/cardBG.png',
    subscribersCount: 110,
    presenterAvatar: '/public/avatar.png',
  },
  {
    id: 5,
    title: 'Nix and nixos',
    date: '2024/02/27',
    thumbnail: '/public/cardBG.png',
    subscribersCount: 110,
    presenterAvatar: '/public/avatar.png',
  },
];
const upcomingEvents = events.filter(
  (event) => new Date(event.date) > new Date(),
);
const archivedEvents = events.filter(
  (event) => new Date() > new Date(event.date),
);
---

<Layout title="titles.events">
  <UpcomingEvents events={upcomingEvents} />
  <SeperatorLine />
  <ArchivedEvents events={archivedEvents} />
</Layout>
