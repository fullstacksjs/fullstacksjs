---
import { t } from 'i18next';

import { FullstacksJSEvent } from '../data-layer/domain';

interface Props {
  event: FullstacksJSEvent;
}

const { event } = Astro.props;
const lecturers = event.lecturers[0]!;
---

<div
  class="flex flex-col rounded-md border border-dashed border-fg-muted p-[1px]"
>
  <img
    class="h-auto w-full flex-none rounded-t-[4px]"
    src={event.thumbnail.src}
    alt={event.thumbnail.alt}
    width={300}
    height={300}
  />
  <div class="grid flex-1 p-8">
    <div class="py-8">
      <h4 class="text-md font-bold uppercase leading-none">
        {event.title.value.document.children[0].children[0].value}
      </h4>
      <p class="text-xsm text-accent-0">
        {event.date.toLocaleDateString('en-UK')}
      </p>
    </div>
    <div class="mt-auto">
      <div class="flex items-center justify-between">
        <img
          class="rounded-full"
          src={lecturers.avatar.src}
          alt={lecturers.avatar.alt}
          width={24}
          height={24}
        />
        <span class="text-xsm text-accent-0">
          {`${event.subscribersCount ?? 0} ${t('events.subscribers')}`}
        </span>
      </div>
    </div>
  </div>
</div>
